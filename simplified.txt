n ← the index of the fib number you want
a ← 0
b ← 1
i ← log₂(n)
negative ← true

while (i > 0)
    i ← i - 1

    t ← a²
    a ← 2b
    b ← 4a
    b ← b - t

    if (negative)
        b = b - 2
    else
        b = b + 2
    a ← a + t
    
    negative = n is divisible 2^i
    if (negative)
        a = b - a
    else
        b = b - a
    
b is the nth fib number
